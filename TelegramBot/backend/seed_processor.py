import random
MODES = ['msk', 'spb', 'rus', 'usa', 'wrld']
MODE_TO_RADIUS = {'msk': 0, 'spb': 0, 'rus': 3, 'usa': 3, 'wrld': 3}

def generate_seed():
    seed = ''
    for i in range(6):
        symb = random.randint(0, 25)
        if (symb == 8):
            seed += 'i'
        elif (symb == 11):
            seed += 'L'
        elif (random.randint(0, 1)):
            seed += chr(65 + symb).lower()
        else:
            seed += chr(65 + symb).upper()
    return seed

def coordinates_from_seed(seed, mode):
    random.seed(seed)
    if mode == 'msk':
        x, y = 55.571, 37.364
        x2, y2 = 55.912, 37.844
        x_center, y_center = 55.753235, 37.622512
        zoom = 10 
    elif mode == 'spb':
        x, y = 59.81,  30.2
        x2, y2 = 60.06, 30.47
        x_center, y_center = 59.939043, 30.315826
        zoom = 10
    elif mode == 'rus':
        x, y =  54.943761, 31.875376
        x2, y2 = 69.321693, 135.542207
        x_center, y_center = 61.680306, 90.125792
        zoom = 3
        rand_case = random.randint(1, 12)
        if rand_case == 1:
            x, y =  54.395809,  19.963150
            x2, y2 = 54.931611, 22.579783
        elif rand_case == 2:
            x, y =  56.042289, 28.869637
            x2, y2 = 61.054803, 31.639278
        elif rand_case == 3:
            x, y =  54.943761, 31.875376
            x2, y2 = 69.321693, 135.542207
        elif rand_case == 4:
            x, y = 54.922812, 31.870243
            x2, y2 = 55.793310, 135.645871
        elif rand_case == 5:
            x, y = 51.929353, 79.885300
            x2, y2 = 54.859996, 119.686307
        elif rand_case == 6:
            x, y =  50.458641, 103.302560
            x2, y2 = 52.367061, 119.393563
        elif rand_case == 7:
            x, y = 49.728084, 127.742623
            x2, y2 = 55.100807, 142.969699
        elif rand_case == 8:
            x, y = 44.834123, 134.834166
            x2, y2 = 49.749743, 136.589325
        elif rand_case == 9:
            x, y = 42.653027, 131.406969
            x2, y2 = 44.955345, 135.623084
        elif rand_case == 10:
            x, y = 51.906737, 34.449059
            x2, y2 = 55.154587, 59.800473
        elif rand_case == 11:
            x, y = 50.490628, 36.025059
            x2, y2 = 52.042008, 48.674186
        elif rand_case == 12:
            x, y = 43.601399, 40.401071
            x2, y2 = 50.058438, 46.346261
    elif mode == 'usa':
        x, y = 34.949688, -113.990370
        x2, y2 = 42.801610, -85.994596
        x_center, y_center = 38.2149907, -95.4041103
        zoom = 3.2
        rand_case = random.randint(1, 25)
        if rand_case == 1:
            x, y = 38.023709, -124.508643
            x2, y2 = 48.259446, -122.829837
        elif rand_case == 2:
            x, y =  38.058365, -122.805347
            x2, y2 = 48.936160, -95.132851
        elif rand_case == 3:
            x, y = 36.265432, -122.713546
            x2, y2 =  38.076391, -95.104588
        elif rand_case == 4:
            x, y = 36.265432, -122.713546
            x2, y2 =  38.076391, -95.104588
        elif rand_case == 5:
            x, y =  34.459288, -121.294712
            x2, y2 =  36.272217, -95.115785
        elif rand_case == 6:
            x, y = 32.660267, -120.499896
            x2, y2 = 34.473495, -95.114916
        elif rand_case == 7:
            x, y = 31.940442, -112.912404
            x2, y2 = 32.660942, -95.107462
        elif rand_case == 8:
            x, y = 29.539102, -104.298925
            x2, y2 = 31.933306, -102.942300
        elif rand_case == 9:
            x, y = 29.874066, -102.940009
            x2, y2 =  31.912309, -95.107447
        elif rand_case == 10:
            x, y = 28.226720, -100.222951
            x2, y2 = 29.875951, -94.955104
        elif rand_case == 11:
            x, y = 29.568903, -95.103820
            x2, y2 = 48.465761, -93.107331
        elif rand_case == 12:
            x, y = 29.564781, -93.074473
            x2, y2 = 48.096707, -91.080924
        elif rand_case == 13:
            x, y = 29.067681, -91.045620
            x2, y2 = 47.917422, -89.035700
        elif rand_case == 14:
            x, y = 30.186678, -88.987678
            x2, y2 = 47.460429, -87.014051
        elif rand_case == 15:
            x, y = 30.388431, -86.983783
            x2, y2 = 46.691742, -85.014478
        elif rand_case == 16:
            x, y = 29.630667, -84.978182
            x2, y2 = 45.199525, -83.163791
        elif rand_case == 17:
            x, y = 29.198211, -83.152060
            x2, y2 =  41.687286, -81.338139
        elif rand_case == 18:
            x, y = 25.224336, -82.746151
            x2, y2 = 29.186356, -80.139326
        elif rand_case == 19:
            x, y = 31.964060, -81.331289
            x2, y2 = 42.013672, -79.295851
        elif rand_case == 20:
            x, y = 33.572730, -79.264305
            x2, y2 = 42.621677, -77.221550
        elif rand_case == 21:
            x, y = 34.617459, -77.172740
            x2, y2 = 43.585003, -75.096591
        elif rand_case == 22:
            x, y = 39.002902, -75.116361
            x2, y2 = 44.901484, -73.200074
        elif rand_case == 23:
            x, y = 39.002902, -75.116361
            x2, y2 = 40.631862, -73.151272
        elif rand_case == 24:
            x, y = 60.458010, -149.901176
            x2, y2 = 70.017836, -142.942029
        elif rand_case == 25:
            x, y = 18.645801, -160.286210
            x2, y2 =  22.341667, -154.597792
    else: # World mode
        x, y = -90, -180
        x2, y2 = 90, 180
        x_center, y_center = 0, 0
        zoom = 1
        rand_case = random.randint(1, 911764550)
        if rand_case <= 4449732:
            x, y = -49.284542, -72.608645
            x2, y2 = -27.334468, -70.581439
        elif rand_case <= 19306467:
                x, y = -48.412354, -70.501183
                x2, y2 = -17.094978, -65.757256
        elif rand_case <= 43144473:
                x, y = -39.095993, -65.68148
                x2, y2 = -11.260235, -57.117673
        elif rand_case <= 54197816:
                x, y = -34.945629, -56.990732
                x2, y2 = -8.313673, -52.840326
        elif rand_case <= 64674510:
                x, y = -32.05512, -52.80452
                x2, y2 = -6.104159, -48.767408
        elif rand_case <= 86104510:
                x, y = -23.983129, -48.551254
                x2, y2 = -1.695513, -38.936049
        elif rand_case <= 89926456:
                x, y = -13.131989, -38.925841
                x2, y2 = -4.814302, -34.330878
        elif rand_case <= 92756993:
                x, y = -17.064574, -73.302553
                x2, y2 = -13.282524, -65.818419
        elif rand_case <= 94508295:
                x, y = -15.541132, -76.182122
                x2, y2 = -9.467373, -73.298731
        elif rand_case <= 97529862:
                x, y = -13.334793, -78.098332
                x2, y2 = 2.718603, -76.216134
        elif rand_case <= 99644797:
                x, y = -10.008889, -80.004263
                x2, y2 = 1.036968, -78.089577
        elif rand_case <= 100484034:
                x, y = -6.815206, -81.223244
                x2, y2 = 0.034623, -79.99805
        elif rand_case <= 103817638:
                x, y = 0.313049, -76.095463
                x2, y2 = 11.123643, -73.011817
        elif rand_case <= 104511106:
                x, y = 1.842713, -61.708479
                x2, y2 = 5.08423, -59.569147
        elif rand_case <= 105376275:
                x, y = 7.415949, -82.701898
                x2, y2 = 9.419654, -78.384054
        elif rand_case <= 113446464:
                x, y = 13.834853, -97.789355
                x2, y2 = 21.448042, -87.189081
        elif rand_case <= 125583898:
                x, y = 16.799699, -104.668923
                x2, y2 = 34.444475, -97.790154
        elif rand_case <= 162362931:
                x, y = 22.418745, -115.999144
                x2, y2 = 55.062914, -104.732497
        elif rand_case <= 189040082:
                x, y = 30.897817, -124.318517
                x2, y2 = 63.003453, -116.009337
        elif rand_case <= 208826315:
                x, y = 49.6771, -134.373729
                x2, y2 = 69.598913, -124.441785
        elif rand_case <= 236663146:
                x, y = 59.686963, -162.778099
                x2, y2 = 69.571087, -134.614924
        elif rand_case <= 240263041:
                x, y = 16.580835, -71.566493
                x2, y2 = 19.737945, -60.163992
        elif rand_case <= 288086563:
                x, y = 45.013016, -104.696011
                x2, y2 = 54.201269, -52.647464
        elif rand_case <= 307565470:
                x, y = 40.303447, -104.686628
                x2, y2 = 44.924055, -62.53004
        elif rand_case <= 325290580:
                x, y = 34.476446, -104.67485
                x2, y2 = 40.239656, -73.919229
        elif rand_case <= 336833448:
                x, y = 28.631966, -97.790223
                x2, y2 = 34.420591, -77.849619
        elif rand_case <= 338236006:
                x, y = 24.201249, -83.148786
                x2, y2 = 28.593611, -79.955611
        elif rand_case <= 338662594:
                x, y = 62.758256, -51.236426
                x2, y2 = 68.753873, -50.524927
        elif rand_case <= 338916635:
                x, y = 65.534729, -38.249562
                x2, y2 = 66.373432, -35.220591
        elif rand_case <= 339166187:
                x, y = 72.099301, -24.622787
                x2, y2 = 73.034822, -21.955264
        elif rand_case <= 342308433:
                x, y = 63.479438, -24.225472
                x2, y2 = 66.459564, -13.681468
        elif rand_case <= 348512697:
                x, y = 36.269117, -9.277221
                x2, y2 = 43.587757, -0.799876
        elif rand_case <= 349017288:
                x, y = 37.486593, -0.850123
                x2, y2 = 41.229653, 0.497947
        elif rand_case <= 349540252:
                x, y = 38.456167, 1.152376
                x2, y2 = 40.091257, 4.350759
        elif rand_case <= 356732200:
                x, y = 41.343102, -0.82069
                x2, y2 = 43.780178, 28.689869
        elif rand_case <= 370898969:
                x, y = 43.753602, -1.4911
                x2, y2 = 46.671733, 47.056305
        elif rand_case <= 386635181:
                x, y = 46.680389, -4.882195
                x2, y2 = 50.188704, 39.97185
        elif rand_case <= 399624737:
                x, y = 50.179092, -10.579633
                x2, y2 = 60.733477, 1.727627
        elif rand_case <= 416973507:
                x, y = 50.208775, 1.631428
                x2, y2 = 54.710563, 40.168937
        elif rand_case <= 432934294:
                x, y = 54.812812, 4.911457
                x2, y2 = 68.454907, 16.611117
        elif rand_case <= 470658785:
                x, y = 54.761425, 16.677855
                x2, y2 = 70.855292, 40.118145
        elif rand_case <= 472320282:
                x, y = 34.70466, 21.498593
                x2, y2 = 37.06388, 28.541162
        elif rand_case <= 473136042:
                x, y = 35.980587, 28.7017
                x2, y2 = 37.052345, 36.313121
        elif rand_case <= 477419908:
                x, y = 38.431218, 41.463445
                x2, y2 = 43.907716, 49.285717
        elif rand_case <= 477712462:
                x, y = 34.466932, 32.187156
                x2, y2 = 35.685885, 34.587197
        elif rand_case <= 492264151:
                x, y = 37.138231, 8.207695
                x2, y2 = 41.215093, 43.901051
        elif rand_case <= 493972311:
                x, y = 27.982842, 34.206354
                x2, y2 = 34.75456, 36.728846
        elif rand_case <= 499559975:
                x, y = 20.121393, 37.702037
                x2, y2 = 27.869848, 44.913364
        elif rand_case <= 502214363:
                x, y = 22.774534, 45.217954
                x2, y2 = 26.49081, 52.360555
        elif rand_case <= 503382019:
                x, y = 23.407763, 52.43168
                x2, y2 = 26.266107, 56.51676
        elif rand_case <= 522107420:
                x, y = 29.494079, 36.973408
                x2, y2 = 36.150999, 65.102634
        elif rand_case <= 529883997:
                x, y = 20.956427, 69.502959
                x2, y2 = 33.662601, 75.623273
        elif rand_case <= 532251391:
                x, y = 12.348861, 72.961579
                x2, y2 = 20.992685, 75.700406
        elif rand_case <= 548929386:
                x, y = 5.660582, 75.687502
                x2, y2 = 32.831733, 81.825628
        elif rand_case <= 551495692:
                x, y = 16.562869, 81.880006
                x2, y2 = 27.948348, 84.134023
        elif rand_case <= 553727672:
                x, y = 18.941088, 84.228436
                x2, y2 = 27.085543, 86.968926
        elif rand_case <= 558177843:
                x, y = 21.420745, 87.016626
                x2, y2 = 27.967136, 93.814526
        elif rand_case <= 564435870:
                x, y = 15.759377, 93.79615
                x2, y2 = 28.789678, 98.598823
        elif rand_case <= 569435668:
                x, y = 13.07742, 98.698399
                x2, y2 = 20.311064, 105.610265
        elif rand_case <= 570853606:
                x, y = 6.161271, 98.186624
                x2, y2 = 12.991247, 100.262675
        elif rand_case <= 573162431:
                x, y = 9.498555, 102.559361
                x2, y2 = 13.038588, 109.081404
        elif rand_case <= 575368361:
                x, y = 33.14266, 125.339839
                x2, y2 = 38.34219, 129.582396
        elif rand_case <= 576344511:
                x, y = 31.189749, 129.590752
                x2, y2 = 34.092355, 132.953764
        elif rand_case <= 577145521:
                x, y = 34.164086, 131.396189
                x2, y2 = 35.575236, 137.07248
        elif rand_case <= 578440266:
                x, y = 34.573722, 135.999269
                x2, y2 = 37.135066, 141.054211
        elif rand_case <= 579991265:
                x, y = 37.181498, 138.523254
                x2, y2 = 41.404225, 142.196234
        elif rand_case <= 582631709:
                x, y = 41.440542, 139.648253
                x2, y2 = 45.701612, 145.844921
        elif rand_case <= 587578369:
                x, y = 45.73134, 138.671167
                x2, y2 = 54.630988, 144.229432
        elif rand_case <= 691840136:
                x, y = 46.980812, 85.538243
                x2, y2 = 66.530153, 138.870868
        elif rand_case <= 780911178:
                x, y = 46.662815, 40.117675
                x2, y2 = 66.372448, 85.309304
        elif rand_case <= 812653095:
                x, y = 42.311808, 50.274913
                x2, y2 = 46.902322, 119.421673
        elif rand_case <= 826790703:
                x, y = 36.360195, 52.913928
                x2, y2 = 42.132104, 77.407745
        elif rand_case <= 826808458:
                x, y = 22.196141, 113.849455
                x2, y2 = 22.525431, 114.388649
        elif rand_case <= 827493604:
                x, y = 21.93478, 120.022266
                x2, y2 = 25.293367, 122.062248
        elif rand_case <= 827633703:
                x, y = 20.403116, 105.338715
                x2, y2 = 21.40667, 106.734742
        elif rand_case <= 828780506:
                x, y = 0.392494, 97.084354
                x2, y2 = 3.834683, 100.415963
        elif rand_case <= 829887382:
                x, y = 2.746322, 100.405578
                x2, y2 = 6.439626, 103.402558
        elif rand_case <= 830797991:
                x, y = -2.363482, 100.419083
                x2, y2 = 2.248554, 102.393502
        elif rand_case <= 831073665:
                x, y = 1.233185, 102.459459
                x2, y2 = 2.607203, 104.465796
        elif rand_case <= 831139161:
                x, y = 0.639887, 103.750858
                x2, y2 = 1.175858, 104.972866
        elif rand_case <= 832060076:
                x, y = -4.714923, 102.420486
                x2, y2 = -0.125565, 104.427117
        elif rand_case <= 832972007:
                x, y = -6.755257, 104.445797
                x2, y2 = -2.171079, 106.435099
        elif rand_case <= 834419808:
                x, y = -8.029813, 106.462975
                x2, y2 = -6.087962, 113.918752
        elif rand_case <= 835857219:
                x, y = -9.0723, 110.537647
                x2, y2 = -8.090379, 125.176412
        elif rand_case <= 836372843:
                x, y = -10.308487, 119.12394
                x2, y2 = -9.397115, 124.781609
        elif rand_case <= 838234905:
                x, y = -3.221995, 108.861696
                x2, y2 = 2.235517, 112.27362
        elif rand_case <= 839328229:
                x, y = 2.216032, 111.410606
                x2, y2 = 4.902368, 115.480552
        elif rand_case <= 840426047:
                x, y = -4.030027, 112.318312
                x2, y2 = -1.346924, 116.409911
        elif rand_case <= 842298652:
                x, y = -1.343953, 115.514714
                x2, y2 = 7.155887, 117.71782
        elif rand_case <= 842476479:
                x, y = 7.313919, 122.835409
                x2, y2 = 8.589256, 124.229764
        elif rand_case <= 843143160:
                x, y = 5.922932, 124.287215
                x2, y2 = 9.014302, 126.443801
        elif rand_case <= 844051214:
                x, y = 9.180054, 122.157479
                x2, y2 = 12.059031, 125.311566
        elif rand_case <= 845136564:
                x, y = 12.144967, 120.417695
                x2, y2 = 14.378673, 125.27666
        elif rand_case <= 846212712:
                x, y = 14.341429, 119.828821
                x2, y2 = 18.534057, 122.395583
        elif rand_case <= 847202447:
                x, y = -5.780558, 118.805549
                x2, y2 = -0.880857, 120.825539
        elif rand_case <= 847635119:
                x, y = -5.80075, 121.441453
                x2, y2 = -3.751239, 123.552552
        elif rand_case <= 847936979:
                x, y = -1.887721, 121.314039
                x2, y2 = -0.565291, 123.596656
        elif rand_case <= 848564956:
                x, y = 0.210587, 120.601446
                x2, y2 = 1.534041, 125.346434
        elif rand_case <= 848695575:
                x, y = 0.575248, 127.282762
                x2, y2 = 2.157195, 128.108445
        elif rand_case <= 850764902:
                x, y = -35.015731, 115.347602
                x2, y2 = -29.568666, 119.146578
        elif rand_case <= 872207601:
                x, y = -31.090546, 133.662607
                x2, y2 = -16.273244, 148.133999
        elif rand_case <= 877648979:
                x, y = -38.704455, 138.414536
                x2, y2 = -34.130349, 150.310584
        elif rand_case <= 883511891:
                x, y = -34.099667, 148.02328
                x2, y2 = -23.212915, 153.408644
        elif rand_case <= 884537169:
                x, y = -43.694055, 144.926729
                x2, y2 = -40.738831, 148.396105
        elif rand_case <= 885280898:
                x, y = -46.65299, 166.609616
                x2, y2 = -44.872506, 170.786733
        elif rand_case <= 885524129:
                x, y = -44.86571, 168.610094
                x2, y2 = -43.970175, 171.326137
        elif rand_case <= 885809359:
                x, y = -43.939338, 170.974946
                x2, y2 = -42.567905, 173.054745
        elif rand_case <= 885880283:
                x, y = -42.50648, 171.483347
                x2, y2 = -41.74078, 172.409613
        elif rand_case <= 885994188:
                x, y = -41.647706, 172.788392
                x2, y2 = -40.824347, 174.171807
        elif rand_case <= 886104913:
                x, y = -41.624899, 174.639648
                x2, y2 = -40.863816, 176.094488
        elif rand_case <= 886227639:
                x, y = -40.855348, 175.138648
                x2, y2 = -40.001025, 176.57518
        elif rand_case <= 886545087:
                x, y = -39.989569, 173.832774
                x2, y2 = -38.987557, 177.000877
        elif rand_case <= 886900884:
                x, y = -38.943233, 174.768577
                x2, y2 = -37.930957, 178.2834
        elif rand_case <= 887152495:
                x, y = -37.896282, 174.738984
                x2, y2 = -36.606413, 176.689655
        elif rand_case <= 887265315:
                x, y = -36.633165, 173.908361
                x2, y2 = -35.530921, 174.931905
        elif rand_case <= 887345704:
                x, y = -35.51682, 173.084998
                x2, y2 = -34.927814, 174.449831
        elif rand_case <= 888441338:
                x, y = 12.516875, -17.249842
                x2, y2 = 15.788435, -13.900877
        elif rand_case <= 889990316:
                x, y = 5.254146, -2.620917
                x2, y2 = 10.598853, 0.277236
        elif rand_case <= 890683587:
                x, y = 6.370575, 2.751405
                x2, y2 = 8.648428, 5.794935
        elif rand_case <= 893150803:
                x, y = 4.395859, 5.773598
                x2, y2 = 12.399362, 8.856268
        elif rand_case <= 894899731:
                x, y = 7.092054, 8.886881
                x2, y2 = 12.796579, 11.952741
        elif rand_case <= 894900637:
                x, y = -2.532627, 28.886304
                x2, y2 = -2.415786, 28.963852
        elif rand_case <= 894908527:
                x, y = -2.076954, 29.979036
                x2, y2 = -1.8064, 30.27067
        elif rand_case <= 894909456:
                x, y = -2.141581, 30.520799
                x2, y2 = -2.023741, 30.599641
        elif rand_case <= 897171202:
                x, y = -2.378588, 34.589484
                x2, y2 = 1.44979, 40.497329
        elif rand_case <= 897397209:
                x, y = -6.532803, 39.037975
                x2, y2 = -3.77889, 39.858652
        elif rand_case <= 899747167:
                x, y = -27.767192, 16.354517
                x2, y2 = -18.647511, 18.931315
        elif rand_case <= 903545227:
                x, y = -26.961534, 21.721059
                x2, y2 = -19.294798, 26.675005
        elif rand_case <= 907337022:
                x, y = -34.417807, 18.286856
                x2, y2 = -30.09277, 27.053938
        elif rand_case <= 908239054:
                x, y = -33.072586, 27.029135
                x2, y2 = -29.213054, 29.366289
        elif rand_case <= 908557642:
                x, y = -30.906745, 29.393937
                x2, y2 = -29.266316, 31.336038
        elif rand_case <= 911764550:
                x, y = -29.232541, 26.864213
                x2, y2 = -23.01238, 32.01988

        
    lat, lng = x + random.random() * (x2 - x), y + random.random() * (y2 - y)
    return lat, lng, x_center, y_center, zoom


def check_seed(string, right_mode):
    unpacked = string.split('_')
    if len(unpacked) != 2: 
        return False
    mode, seed = unpacked
    if (mode != right_mode):
        return False
    if (len(seed) == 6 and all(map(lambda x: 'a' <= x <= 'z', list(seed.lower()))) and mode in MODES):
        return True
    return False
